// -*- C++ -*-
//
// $Id$

// ****  Code generated by the The ACE ORB (TAO) IDL Compiler ****
// TAO and the TAO IDL Compiler have been developed by:
//       Center for Distributed Object Computing
//       Washington University
//       St. Louis, MO
//       USA
//       http://www.cs.wustl.edu/~schmidt/doc-center.html
// and
//       Distributed Object Computing Laboratory
//       University of California at Irvine
//       Irvine, CA
//       USA
//       http://doc.ece.uci.edu/
// and
//       Institute for Software Integrated Systems
//       Vanderbilt University
//       Nashville, TN
//       USA
//       http://www.isis.vanderbilt.edu/
//
// Information about TAO is available at:
//     http://www.cs.wustl.edu/~schmidt/TAO.html

// TAO_IDL - Generated from 
// be/be_codegen.cpp:1030

#include "KernelInterfaceI.h"
#include "directkernelinterface.hpp"
#include <execution/parse_exception.hpp>
#include <iostream>
using namespace std;

// TAO_IDL - Generated from
// be/be_visitor_interface/interface_is.cpp:52


// Implementation skeleton constructor
Orocos_KernelInterface_i::Orocos_KernelInterface_i (ExecutionClient::KernelInterface* dki)
    : _dki(dki)
{
}

// Implementation skeleton destructor
Orocos_KernelInterface_i::~Orocos_KernelInterface_i (void)
{
}

::Orocos::KernelInterface::NameList* vector_to_NL( const std::vector<std::string>& res )
{
    ::Orocos::KernelInterface::NameList* nl = new ::Orocos::KernelInterface::NameList( res.size() );
    nl->length( res.size() );
    for ( unsigned int i= 0; i < res.size(); ++i)
        (*nl)[i] = CORBA::string_dup( res[i].c_str() );
    //cerr << "Returning vector with size "<< res.size() << " as NameList with length "<< nl->length()<<endl;
    return nl;
}

CORBA::Boolean Orocos_KernelInterface_i::requestShutdown (
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return _dki->requestShutdown();
}



// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getProgramNames (
    
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getProgramNames() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getStateContextNames (
    
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getStateContextNames() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

void Orocos_KernelInterface_i::loadStateContexts (
    const char * code,
    const char * filename
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
    , Orocos::LoadException
    , Orocos::ParseException
  ))
{
  // Add your implementation here
    try {
        _dki->loadStateContexts( std::string( code ), std::string( filename ) );
    } catch (ExecutionClient::load_exception& e) {
        throw Orocos::LoadException( e.what().c_str() );
    }
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

CORBA::Boolean Orocos_KernelInterface_i::unloadStateContext (
    const char * name
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
    , Orocos::LoadException
  ))
{
  // Add your implementation here

    try {
        return _dki->unloadStateContext( std::string(name) );
    } catch (ExecutionClient::load_exception& e) {
        throw Orocos::LoadException( e.what().c_str() );
    }
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

void Orocos_KernelInterface_i::loadPrograms (
    const char * code,
    const char * filename
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
    , Orocos::LoadException
  ))
{
  // Add your implementation here
    try {
        _dki->loadPrograms( std::string(code), std::string(filename) );
    } catch (ExecutionClient::load_exception& e) {
        throw Orocos::LoadException( e.what().c_str() );
    }
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

CORBA::Boolean Orocos_KernelInterface_i::unloadProgram (
    const char * name
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
    , Orocos::LoadException
  ))
{
  // Add your implementation here
    try {
        return _dki->unloadProgram( std::string(name));
    } catch (ExecutionClient::load_exception& e) {
        throw Orocos::LoadException( e.what().c_str() );
    }
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

char * Orocos_KernelInterface_i::getLogLine (
    
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return CORBA::string_dup( _dki->getLogLine().c_str() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

char * Orocos_KernelInterface_i::getProgramText (
    const char * name
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return CORBA::string_dup( _dki->getProgramText( std::string( name ) ).c_str() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

char * Orocos_KernelInterface_i::getStateText (
    const char * name
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return CORBA::string_dup( _dki->getStateText( std::string( name ) ).c_str() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

char * Orocos_KernelInterface_i::getProgramStatus (
    const char * name
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return CORBA::string_dup( _dki->getProgramStatus( std::string( name ) ).c_str() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

CORBA::Long Orocos_KernelInterface_i::getProgramLine (
    const char * name
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return _dki->getProgramLine( std::string(name));
}


// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

CORBA::Long Orocos_KernelInterface_i::getStateLine (
    const char * name
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
  return -1;//_dki->getStateLine( std::string(name));
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

char * Orocos_KernelInterface_i::getStateStatus (
    const char * name
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return CORBA::string_dup( _dki->getStateStatus( std::string( name ) ).c_str() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

char * Orocos_KernelInterface_i::getState (
    const char * name
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return CORBA::string_dup( _dki->getState( std::string( name ) ).c_str() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getControllers (
    
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getControllers() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getGenerators (
    
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getGenerators() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getEffectors (
    
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getEffectors() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getEstimators (
    
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getEstimators() );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getSensors (
    
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getSensors() );

}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getSupports (
    
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getSupports() );

}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getComponents (
    
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getComponents() );

}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getCommands (
    const char * comp
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getCommands( std::string(comp)) );

}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getData (
    const char * comp
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getData(std::string(comp)));

}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

::Orocos::KernelInterface::NameList * Orocos_KernelInterface_i::getMethods (
    const char * comp
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return vector_to_NL( _dki->getMethods(std::string(comp)));
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

CORBA::Long Orocos_KernelInterface_i::startExecutingCommand (
    const char * code
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
    , Orocos::LoadException
  ))
{
  // Add your implementation here
    try {
        return _dki->startExecutingCommand( std::string( code) );
    } catch (ORO_Execution::parse_exception& e) {
        throw Orocos::LoadException( e.what().c_str() );
    } catch (ExecutionClient::load_exception& e) {
        throw Orocos::LoadException( e.what().c_str() );
    } catch ( ... ) {
            cerr << "Unknown exception in Orocos_KernelInterface_i::startExecutingCommand"<<endl;
    }
    return -1;
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

CORBA::Boolean Orocos_KernelInterface_i::isCommandFinished (
    CORBA::Long commandid
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    return _dki->isCommandFinished( commandid );
}

// TAO_IDL - Generated from
// be/be_visitor_operation/operation_is.cpp:57

void Orocos_KernelInterface_i::abandonCommand (
    CORBA::Long commandid
  )
  ACE_THROW_SPEC ((
    CORBA::SystemException
  ))
{
  // Add your implementation here
    _dki->abandonCommand( commandid );
}


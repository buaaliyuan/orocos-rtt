<HTML>
<HEAD>
<TITLE>cpconst.h Source File</TITLE>
<LINK HREF="micro.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<a name="PageTop"></a>

<!------ Document Header ------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0">
<tr><td valign="bottom">
<img src="pictures/maphead.gif" vspace="0" border="0" height="20">
</td></tr></table>

<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="bottom">
<a href="index.html"><img src="pictures/button_index.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="files.html"><img src="pictures/button_files.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="globals.html"><img src="pictures/button_funcs.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom" width="80">
&nbsp;
</td>
<td valign="bottom">
<a href="annotated.html"><img src="pictures/button_structs.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="functions.html"><img src="pictures/button_members.gif" vspace="0" border="0" height="25"></a>
</td>

</tr></table>

<hr noshade width=680 size=1 align=left>

<!------ Document Start -------------------------------------------->
<table width=680>
<tr><td>




<!-- Generated by Doxygen 1.2.6 -->
<h1>cpconst.h</h1><a href="cpconst_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*****************************************************************************\</font>
00002 <font class="comment">*  CANpie                                                                     *</font>
00003 <font class="comment">*                                                                             *</font>
00004 <font class="comment">*  File        : cpconst.h                                                    *</font>
00005 <font class="comment">*  Description : Definitions / Constants for CANpie                           *</font>
00006 <font class="comment">*  Author      : Uwe Koppe                                                    *</font>
00007 <font class="comment">*  e-mail      : koppe@microcontrol.net                                       *</font>
00008 <font class="comment">*                                                                             *</font>
00009 <font class="comment">* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *</font>
00010 <font class="comment">*                                                                             *</font>
00011 <font class="comment">*   This program is free software; you can redistribute it and/or modify      *</font>
00012 <font class="comment">*   it under the terms of the GNU General Public License as published by      *</font>
00013 <font class="comment">*   the Free Software Foundation; either version 2 of the License, or         *</font>
00014 <font class="comment">*   (at your option) any later version.                                       *</font>
00015 <font class="comment">*                                                                             *</font>
00016 <font class="comment">* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *</font>
00017 <font class="comment">*                                                                             *</font>
00018 <font class="comment">*  History                                                                    *</font>
00019 <font class="comment">*  Vers.    Date        Comment                                         Aut.  *</font>
00020 <font class="comment">*  -----    ----------  ---------------------------------------------   ----  *</font>
00021 <font class="comment">*  0.1      04.12.1998  Initial version                                 UK    *</font>
00022 <font class="comment">*  0.2      29.04.1999  Changed structures, new data type definitions   UK    *</font>
00023 <font class="comment">*  0.3                  - no changes -                                        *</font>
00024 <font class="comment">*  0.4                  - no changes -                                        *</font>
00025 <font class="comment">*  0.5                  - no changes -                                        *</font>
00026 <font class="comment">*  0.6      15.06.2000  moved defintions from cpmsg.h                   UK    *</font>
00027 <font class="comment">*                       set to CANpie release 0.6                             *</font>
00028 <font class="comment">*  0.7      06.11.2000  added new error codes                           UK    *</font>
00029 <font class="comment">*                       added missing buffer number                           *</font>
00030 <font class="comment">*  0.8      15.02.2001  set to CANpie release 0.8                       UK    *</font>
00031 <font class="comment">*                                                                             *</font>
00032 <font class="comment">\*****************************************************************************/</font>
00033 
00034 
00035 <font class="preprocessor">#ifndef  _CANpie_Constants_</font>
00036 <font class="preprocessor"></font><font class="preprocessor">#define  _CANpie_Constants_</font>
00037 <font class="preprocessor"></font>
00038 <font class="comment">/*-----------------------------------------------------------------------------</font>
00039 <font class="comment">**    Online documentation for Doxygen</font>
00040 <font class="comment">*/</font>
00041 
00049 <font class="preprocessor">#include "compiler.h"</font>      <font class="comment">// compiler definitions</font>
00050 <font class="preprocessor">#include "<a class="code" href="cpconfig_h.html">cpconfig.h</a>"</font>      <font class="comment">// configuration options</font>
00051 
00052 
00053 <font class="comment">/*----------------------------------------------------------------------------*/</font>
<a name="l00060"></a><a class="code" href="cpconst_h.html#a109">00060</a> <font class="keyword">enum</font> CpErr {
00061 
00064    CpErr_OK = 0,
00065 
00068    CpErr_GENERIC,
00069 
00072    CpErr_HARDWARE,
00073 
00076    CpErr_INIT_FAIL,
00077 
00080    CpErr_INIT_READY,
00081 
00084    CpErr_INIT_MISSING,
00085 
00088    CpErr_RCV_EMPTY,
00089 
00092    CpErr_OVERRUN,
00093 
00096    CpErr_TRM_FULL,
00097 
00098 
00101    CpErr_CAN_MESSAGE = 10,
00102 
00105    CpErr_CAN_ID,
00106 
00107 
00110    CpErr_FIFO_EMPTY = 20,
00111 
00114    CpErr_FIFO_WAIT,
00115 
00118    CpErr_FIFO_FULL,
00119 
00122    CpErr_FIFO_SIZE,
00123 
00124 
00127    CpErr_BUS_PASSIVE = 30,
00128 
00131    CpErr_BUS_OFF,
00132 
00135    CpErr_BUS_WARNING,
00136 
00137 
00140    CpErr_CHANNEL = 40,
00141 
00144    CpErr_REGISTER,
00145 
00148    CpErr_BAUDRATE,
00149 
00150 
00153    CpErr_NOT_SUPPORTED = 50
00154 };
00155 
00156 
00157 <font class="comment">/*----------------------------------------------------------------------------*/</font>
<a name="l00163"></a><a class="code" href="cpconst_h.html#a110">00163</a> <font class="keyword">enum</font> CP_CC {
00164 
00167    CP_CC_82C200 = 0,
00168 
00171    CP_CC_SJA1000,
00172 
00175    CP_CC_80C591,
00176 
00179    CP_CC_80C592,
00180 
00181 
00184    CP_CC_C505 = 20,
00185 
00188    CP_CC_C515,
00189 
00192    CP_CC_C161,
00193 
00196    CP_CC_C164,
00197 
00200    CP_CC_C167,
00201 
00204    CP_CC_81C90,
00205 
00208    CP_CC_81C91,
00209 
00212    CP_CC_AN82527 = 40,
00213 
00216    CP_CC_AN87C196CA,
00217 
00220    CP_CC_AN87C196CB,
00221 
00224    CP_CC_68HC05 = 60,
00225 
00228    CP_CC_68HC08,
00229 
00232    CP_CC_68HC912,
00233 
00236    CP_CC_MC68376,
00237 
00240    CP_CC_MPC555,
00241 
00244    CP_CC_MCP2510 = 80
00245 };
00246 
00247 
00248 <font class="comment">/*----------------------------------------------------------------------------*/</font>
<a name="l00253"></a><a class="code" href="cpconst_h.html#a111">00253</a> <font class="keyword">enum</font> CP_FIFO {
00254    CP_FIFO_RCV = 0,
00255    CP_FIFO_TRM
00256 };
00257 
00258 
00259 <font class="comment">/*----------------------------------------------------------------------------*/</font>
<a name="l00283"></a><a class="code" href="cpconst_h.html#a112">00283</a> <font class="keyword">enum</font> CP_CALLBACK {
00284 
00288    CP_CALLBACK_PROCESSED = 0,
00289 
00293    CP_CALLBACK_PUSH_FIFO
00294 };
00295 
00296 
00297 <font class="comment">/*----------------------------------------------------------------------------*/</font>
<a name="l00305"></a><a class="code" href="cpconst_h.html#a113">00305</a> <font class="keyword">enum</font> CP_BAUD {
00309    CP_BAUD_10K = 0,
00310 
00314    CP_BAUD_20K,
00315 
00319    CP_BAUD_50K,
00320 
00324    CP_BAUD_100K,
00325 
00329    CP_BAUD_125K,
00330 
00334    CP_BAUD_250K,
00335 
00339    CP_BAUD_500K,
00340 
00344    CP_BAUD_800K,
00345 
00349    CP_BAUD_1M
00350 };
00351 
00352 
00353 <font class="comment">/*----------------------------------------------------------------------------*/</font>
<a name="l00358"></a><a class="code" href="cpconst_h.html#a114">00358</a> <font class="keyword">enum</font> CP_CHANNEL {
00359    CP_CHANNEL_1 = 0,
00360    CP_CHANNEL_2,
00361    CP_CHANNEL_3,
00362    CP_CHANNEL_4,
00363    CP_CHANNEL_5,
00364    CP_CHANNEL_6,
00365    CP_CHANNEL_7,
00366    CP_CHANNEL_8
00367 };
00368 
00369 
00370 <font class="comment">/*----------------------------------------------------------------------------*/</font>
<a name="l00378"></a><a class="code" href="cpconst_h.html#a115">00378</a> <font class="keyword">enum</font> CP_MODE {
00381    CP_MODE_STOP = 0,
00382 
00385    CP_MODE_START,
00386 
00389    CP_MODE_AUTO_BAUD,
00390 
00393    CP_MODE_SLEEP
00394 };
00395 
00396 
00397 <font class="comment">/*----------------------------------------------------------------------------*/</font>
<a name="l00404"></a><a class="code" href="cpconst_h.html#a116">00404</a> <font class="keyword">enum</font> CP_STATE {
00408    CP_STATE_ACTIVE    = 0,
00409 
00413    CP_STATE_STOPPED,
00414 
00418    CP_STATE_SLEEPING,
00419 
00423    CP_STATE_BUS_WARN  = 6,
00424 
00428    CP_STATE_BUS_OFF,
00429 
00433    CP_STATE_PHY_FAULT = 10,
00434 
00438    CP_STATE_PHY_H,
00439 
00443    CP_STATE_PHY_L,
00444 
00445    CP_STATE_ERR_BIT   = 0x10,
00446    CP_STATE_ERR_STUFF = 0x20,
00447    CP_STATE_ERR_FORM  = 0x30,
00448    CP_STATE_ERR_CRC   = 0x40,
00449    CP_STATE_ERR_ACK   = 0x50
00450 };
00451 
00452 
00453 <font class="comment">/*----------------------------------------------------------------------------*/</font>
<a name="l00461"></a><a class="code" href="cpconst_h.html#a117">00461</a> <font class="keyword">enum</font> CP_BUFFER {
00462    CP_BUFFER_1 = 1,
00463    CP_BUFFER_2,
00464    CP_BUFFER_3,
00465    CP_BUFFER_4,
00466    CP_BUFFER_5,
00467    CP_BUFFER_6,
00468    CP_BUFFER_7,
00469    CP_BUFFER_8,
00470    CP_BUFFER_9,
00471    CP_BUFFER_10,
00472    CP_BUFFER_11,
00473    CP_BUFFER_12,
00474    CP_BUFFER_13,
00475    CP_BUFFER_14,
00476    CP_BUFFER_15
00477 };
00478 
00479 
00480 <font class="comment">/*----------------------------------------------------------------------------*/</font>
<a name="l00485"></a><a class="code" href="cpconst_h.html#a118">00485</a> <font class="keyword">enum</font> CP_BUFFER_DIR {
00489    CP_BUFFER_DIR_RX = 0,
00490 
00494    CP_BUFFER_DIR_TX
00495 };
00496 
00497 
00498 <font class="comment">/*----------------------------------------------------------------------------*/</font>
00507 <font class="keyword">typedef</font> <font class="keyword">struct </font>{
<a name="l00522"></a><a class="code" href="struct_CpStruct_CAN.html#m0">00522</a>    _U32  v_MsgId;
00523 
<a name="l00539"></a><a class="code" href="struct_CpStruct_CAN.html#m1">00539</a>    _U32  v_MsgFlags;
00540 
<a name="l00545"></a><a class="code" href="struct_CpStruct_CAN.html#m2">00545</a>    _U08  v_MsgData[8];
00546 
00547 <font class="preprocessor">#if CP_MSG_TIME == 1</font>
00548 <font class="preprocessor"></font>
<a name="l00556"></a><a class="code" href="struct_CpStruct_CAN.html#m3">00556</a>    _U32  v_MsgTime;
00557 <font class="preprocessor">#endif</font>
00558 <font class="preprocessor"></font>
00559 <font class="preprocessor">#if CP_USR_DATA == 1</font>
00560 <font class="preprocessor"></font>
<a name="l00564"></a><a class="code" href="struct_CpStruct_CAN.html#m4">00564</a>    _U32  v_UsrData;
00565 <font class="preprocessor">#endif</font>
00566 <font class="preprocessor"></font>
00567 } <a class="code" href="struct_CpStruct_CAN.html">CpStruct_CAN</a>;
00568 
00569 
00570 <font class="comment">/*----------------------------------------------------------------------------*/</font>
00582 <font class="keyword">typedef</font> <font class="keyword">struct </font>{
<a name="l00595"></a><a class="code" href="struct_CpStruct_HDI.html#m0">00595</a>    _U08  v_SupportFlags;
00596 
<a name="l00601"></a><a class="code" href="struct_CpStruct_HDI.html#m1">00601</a>    _U08  v_ControllerType;
00602 
<a name="l00607"></a><a class="code" href="struct_CpStruct_HDI.html#m2">00607</a>    _U08  v_IRQNumber;
00608 
<a name="l00612"></a><a class="code" href="struct_CpStruct_HDI.html#m3">00612</a>    _U08  v_VersionMajor;
00613 
<a name="l00617"></a><a class="code" href="struct_CpStruct_HDI.html#m4">00617</a>    _U08  v_VersionMinor;
00618 
<a name="l00623"></a><a class="code" href="struct_CpStruct_HDI.html#m5">00623</a>    <font class="keywordtype">char</font>* v_DriverName;
00624 
<a name="l00629"></a><a class="code" href="struct_CpStruct_HDI.html#m6">00629</a>    <font class="keywordtype">char</font>* v_VersionNumber;
00630 } <a class="code" href="struct_CpStruct_HDI.html">CpStruct_HDI</a>;
00631 
00632 
00633 <font class="comment">/*-------------------------------------------------------------------------</font>
00634 <font class="comment">** CpStruct_BitTimingValue</font>
00635 <font class="comment">** Bit timing structure</font>
00636 <font class="comment">*/</font>
00637 <font class="keyword">typedef</font> <font class="keyword">struct </font>{
00638    _U08     btr0;
00639    _U08     btr1;
00640    _U08     sjw;
00641 } CpStruct_BitTimingValue;
00642 
00643 
00644 <font class="comment">/*----------------------------------------------------------------------------*\</font>
00645 <font class="comment">** Definitions                                                                **</font>
00646 <font class="comment">**                                                                            **</font>
00647 <font class="comment">\*----------------------------------------------------------------------------*/</font>
00648 
00649 <font class="preprocessor">#define  CP_VERSION_MAJOR           0</font>
00650 <font class="preprocessor"></font><font class="preprocessor">#define  CP_VERSION_MINOR           8</font>
00651 <font class="preprocessor"></font>
00652 <font class="preprocessor">#define  CP_NUMBER_OF_BAUDRATES     9</font>
00653 <font class="preprocessor"></font>
00654 <font class="preprocessor">#define  CP_BIT_TIMING_VALUE_SIZE   sizeof(CpStruct_BitTimingValue)</font>
00655 <font class="preprocessor"></font><font class="preprocessor">#define  CP_BIT_TIMING_TABLE_SIZE   (CP_BIT_TIMING_VALUE_SIZE * CP_NUMBER_OF_BAUDRATES)</font>
00656 <font class="preprocessor"></font>
00657 <font class="comment">/*-------------------------------------------------------------------------</font>
00658 <font class="comment">** For dynamic memory allocation we need the size of a CAN message</font>
00659 <font class="comment">** structure. For 32 Bit operating systems (WinNT/Linux) an alignment</font>
00660 <font class="comment">** is necessary. For little micros we can save memory if only the required</font>
00661 <font class="comment">** memory space is assigned by malloc(). Make sure to select the right</font>
00662 <font class="comment">** option here in case you have problems with the FIFOs.</font>
00663 <font class="comment">**</font>
00664 <font class="comment">*/</font>
00665 <font class="preprocessor">#if   CP_SMALL_CODE == 1</font>
00666 <font class="preprocessor"></font><font class="preprocessor">#define  CP_CAN_MESSAGE_SIZE     sizeof(CpStruct_CAN)</font>
00667 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00668 <font class="preprocessor"></font><font class="preprocessor">#define  CP_CAN_MESSAGE_SIZE     32</font>
00669 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00670 <font class="preprocessor"></font>
00671 
00672 
00673 <font class="comment">/*-----------------------------------------------------------------------------</font>
00674 <font class="comment">** CP_MASK_XXX</font>
00675 <font class="comment">** mask for CAN message (RTR, Extended CAN)</font>
00676 <font class="comment">*/</font>
00677 
00678 
00679 <font class="comment">/*-------------------------------------------------------------------*/</font>
<a name="l00685"></a><a class="code" href="cpconst_h.html#a6">00685</a> <font class="preprocessor">#define  CP_MASK_STD_FRAME 0x000007FF</font>
00686 <font class="preprocessor"></font>
00687 
00688 <font class="comment">/*-------------------------------------------------------------------*/</font>
<a name="l00694"></a><a class="code" href="cpconst_h.html#a7">00694</a> <font class="preprocessor">#define  CP_MASK_EXT_FRAME 0x1FFFFFFF</font>
00695 <font class="preprocessor"></font>
00696 
00697 <font class="comment">/*-------------------------------------------------------------------*/</font>
<a name="l00703"></a><a class="code" href="cpconst_h.html#a8">00703</a> <font class="preprocessor">#define  CP_MASK_EXT_BIT   0x80000000</font>
00704 <font class="preprocessor"></font>
00705 
00706 <font class="comment">/*-------------------------------------------------------------------*/</font>
<a name="l00712"></a><a class="code" href="cpconst_h.html#a9">00712</a> <font class="preprocessor">#define  CP_MASK_RTR_BIT   0x40000000</font>
00713 <font class="preprocessor"></font>
00714 
00715 <font class="comment">/*-------------------------------------------------------------------*/</font>
<a name="l00721"></a><a class="code" href="cpconst_h.html#a10">00721</a> <font class="preprocessor">#define  CP_MASK_DLC_BITS  0x0000000F</font>
00722 <font class="preprocessor"></font>
00723 
00724 <font class="comment">/*-------------------------------------------------------------------*/</font>
<a name="l00730"></a><a class="code" href="cpconst_h.html#a11">00730</a> <font class="preprocessor">#define  CP_MASK_BUF_BITS  0x000000F0</font>
00731 <font class="preprocessor"></font>
00732 
00733 <font class="preprocessor">#endif   </font><font class="comment">/* _CANpie_Constants_   */</font>
</pre></div></td></tr>
</table>

<!------ Document footer ------------------------------------------->
<p><br>
<map name="FooterMap">
<area shape=rect coords="  1, 1, 100, 20" href="#PageTop">
<area shape=rect coords="400, 1, 500, 20" href="mailto:koppe@microcontrol.net?Subject=CANpie">
</map>

<table width="600" border="0" bgcolor="#FFFFFF" cellspacing="0">
<tr><td>
<IMG src="pictures/mapfoot.gif" border="0" usemap="#FooterMap">
</td></tr>

<!------ print modification date ----------------------------------->
<tr><td align="right"><h4>
Last modified: 10 Jul 2001
</h4></td></tr></table>
	
</body>
</html>






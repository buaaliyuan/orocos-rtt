<HTML>
<HEAD>
<TITLE>CpStruct_CAN struct Reference</TITLE>
<LINK HREF="micro.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<a name="PageTop"></a>

<!------ Document Header ------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0">
<tr><td valign="bottom">
<img src="pictures/maphead.gif" vspace="0" border="0" height="20">
</td></tr></table>

<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="bottom">
<a href="index.html"><img src="pictures/button_index.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="files.html"><img src="pictures/button_files.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="globals.html"><img src="pictures/button_funcs.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom" width="80">
&nbsp;
</td>
<td valign="bottom">
<a href="annotated.html"><img src="pictures/button_structs.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="functions.html"><img src="pictures/button_members.gif" vspace="0" border="0" height="25"></a>
</td>

</tr></table>

<hr noshade width=680 size=1 align=left>

<!------ Document Start -------------------------------------------->
<table width=680>
<tr><td>




<!-- Generated by Doxygen 1.2.6 -->
<h1>CpStruct_CAN  Struct Reference</h1>CAN message structure. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="cpconst_h-source.html">cpconst.h</a>&gt;</code>
<p>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Data Fields</h2></td></tr>
<tr><td nowrap align=right valign=top>_U32&nbsp;</td><td valign=bottom><a class="el" href="struct_CpStruct_CAN.html#m0">v_MsgId</a></td></tr>
<tr><td nowrap align=right valign=top>_U32&nbsp;</td><td valign=bottom><a class="el" href="struct_CpStruct_CAN.html#m1">v_MsgFlags</a></td></tr>
<tr><td nowrap align=right valign=top>_U08&nbsp;</td><td valign=bottom><a class="el" href="struct_CpStruct_CAN.html#m2">v_MsgData</a> [8]</td></tr>
<tr><td nowrap align=right valign=top>_U32&nbsp;</td><td valign=bottom><a class="el" href="struct_CpStruct_CAN.html#m3">v_MsgTime</a></td></tr>
<tr><td nowrap align=right valign=top>_U32&nbsp;</td><td valign=bottom><a class="el" href="struct_CpStruct_CAN.html#m4">v_UsrData</a></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
CAN message structure.
<p>

<p>
 For transmission and reception of CAN messages a structure which holds all necessary informations is used. The structure has the following data fields: 
<p>
<hr><h2>Field Documentation</h2>
<a name="m2" doxytag="CpStruct_CAN::v_MsgData"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
_U08 CpStruct_CAN::v_MsgData
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The data fields contain up to eight bytes for a CAN message. If the data length code is less than 8, the value of the unused data bytes will be undefined.     </td>
  </tr>
</table>
<a name="m1" doxytag="CpStruct_CAN::v_MsgFlags"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
_U32 CpStruct_CAN::v_MsgFlags
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The message flags field contains the data length code (DLC) of the CAN message and the buffer number when using a FullCAN controller.
<p>
 The data length code (<b>Bit 0 - Bit 3</b>) contains the number of data bytes which are transmitted by a message. The possible value range for the data length code is from 0 to 8 (bytes).
<p>
 A FullCAN controller (e.g. AN82527) has more than only one transmit and one receive buffer and offers more sophisticated message filtering. The field message buffer (<b>Bit 4 - Bit 7</b>) specifies the buffer for message transmission or reception.
<p>
 The high word (<b>Bit 16 - Bit 31</b>) is reserved for user defined data.     </td>
  </tr>
</table>
<a name="m0" doxytag="CpStruct_CAN::v_MsgId"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
_U32 CpStruct_CAN::v_MsgId
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The identifier field may have 11 bits for standard frames (CAN specification 2.0A) or 29 bits for extended frames (CAN specification 2.0B). The three most significant bits are reserved for special functionality (the LSB is Bit 0, the MSB is Bit 31 ).
<p>
 <ul>
 <li>Bit 31: Bit value 1 marks the identifier as an extended frame. Bit value 0 marks the identifier as a standard frame. <li>Bit 30: Bit value 1 marks the identifier as an remote transmission (RTR). <li>Bit 29: Reserved for future use </ul>
     </td>
  </tr>
</table>
<a name="m3" doxytag="CpStruct_CAN::v_MsgTime"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
_U32 CpStruct_CAN::v_MsgTime
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The time stamp field defines the time when a CAN message was received by the CAN controller. The time stamp is a relative value, which is created by a free running timer. The time base is one microsecond (1 us). This means a maximum time span of 4294,96 seconds (1 hour 11 minutes) between two messages can be measured. This is an optional field (available if <a class="el" href="cpconfig_h.html#a0">CP_MSG_TIME</a> is set to 1).     </td>
  </tr>
</table>
<a name="m4" doxytag="CpStruct_CAN::v_UsrData"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
_U32 CpStruct_CAN::v_UsrData
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The field user data can hold a 32 bit value, which is defined by the user. This is an optional field (available if <a class="el" href="cpconfig_h.html#a1">CP_USR_DATA</a> is set to 1).     </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="cpconst_h-source.html">cpconst.h</a></ul>
</td></tr>
</table>

<!------ Document footer ------------------------------------------->
<p><br>
<map name="FooterMap">
<area shape=rect coords="  1, 1, 100, 20" href="#PageTop">
<area shape=rect coords="400, 1, 500, 20" href="mailto:koppe@microcontrol.net?Subject=CANpie">
</map>

<table width="600" border="0" bgcolor="#FFFFFF" cellspacing="0">
<tr><td>
<IMG src="pictures/mapfoot.gif" border="0" usemap="#FooterMap">
</td></tr>

<!------ print modification date ----------------------------------->
<tr><td align="right"><h4>
Last modified: 10 Jul 2001
</h4></td></tr></table>
	
</body>
</html>






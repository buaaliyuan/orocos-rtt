<HTML>
<HEAD>
<TITLE>cpuser.h Source File</TITLE>
<LINK HREF="micro.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<a name="PageTop"></a>

<!------ Document Header ------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0">
<tr><td valign="bottom">
<img src="pictures/maphead.gif" vspace="0" border="0" height="20">
</td></tr></table>

<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="bottom">
<a href="index.html"><img src="pictures/button_index.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="files.html"><img src="pictures/button_files.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="globals.html"><img src="pictures/button_funcs.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom" width="80">
&nbsp;
</td>
<td valign="bottom">
<a href="annotated.html"><img src="pictures/button_structs.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="functions.html"><img src="pictures/button_members.gif" vspace="0" border="0" height="25"></a>
</td>

</tr></table>

<hr noshade width=680 size=1 align=left>

<!------ Document Start -------------------------------------------->
<table width=680>
<tr><td>




<!-- Generated by Doxygen 1.2.6 -->
<h1>cpuser.h</h1><a href="cpuser_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*****************************************************************************\</font>
00002 <font class="comment">*  CANpie                                                                     *</font>
00003 <font class="comment">*                                                                             *</font>
00004 <font class="comment">*  File        : cpuser.h                                                     *</font>
00005 <font class="comment">*  Description : User functions                                               *</font>
00006 <font class="comment">*  Author      : Uwe Koppe                                                    *</font>
00007 <font class="comment">*  e-mail      : koppe@microcontrol.net                                       *</font>
00008 <font class="comment">*                                                                             *</font>
00009 <font class="comment">* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *</font>
00010 <font class="comment">*                                                                             *</font>
00011 <font class="comment">*   This program is free software; you can redistribute it and/or modify      *</font>
00012 <font class="comment">*   it under the terms of the GNU General Public License as published by      *</font>
00013 <font class="comment">*   the Free Software Foundation; either version 2 of the License, or         *</font>
00014 <font class="comment">*   (at your option) any later version.                                       *</font>
00015 <font class="comment">*                                                                             *</font>
00016 <font class="comment">* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *</font>
00017 <font class="comment">*                                                                             *</font>
00018 <font class="comment">*  History                                                                    *</font>
00019 <font class="comment">*  Vers.    Date        Comment                                         Aut.  *</font>
00020 <font class="comment">*  -----    ----------  ---------------------------------------------   ----  *</font>
00021 <font class="comment">*  0.1      11.02.1999  Initial version                                 UK    *</font>
00022 <font class="comment">*  0.2      29.04.1999  Changed structures, new data type definitions   UK    *</font>
00023 <font class="comment">*  0.3      01.09.1999  Adaption to version 0.3 of the CANpie Doc.      UK    *</font>
00024 <font class="comment">*  0.4      18.01.2000  added function calls in CpUserAppInit(), i.e.   UK    *</font>
00025 <font class="comment">*                       CpUserBaudrate() and CpFilterAll(),                   *</font>
00026 <font class="comment">*                       changed place of CpVar_InitFlag                       *</font>
00027 <font class="comment">*  0.5                  - no changes -                                        *</font>
00028 <font class="comment">*  0.6      15.06.2000  set to CANpie release 0.6                       UK    *</font>
00029 <font class="comment">*  0.7                  - no changes -                                        *</font>
00030 <font class="comment">*  0.8                  - no changes -                                        *</font>
00031 <font class="comment">*                                                                             *</font>
00032 <font class="comment">\*****************************************************************************/</font>
00033 
00034 
00035 <font class="preprocessor">#ifndef  _CANpie_User_</font>
00036 <font class="preprocessor"></font><font class="preprocessor">#define  _CANpie_User_</font>
00037 <font class="preprocessor"></font>
00038 
00039 <font class="preprocessor">#include "<a class="code" href="cpconst_h.html">cpconst.h</a>"</font>
00040 
00041 
00042 <font class="comment">/*-----------------------------------------------------------------------------</font>
00043 <font class="comment">**    Online documentation for Doxygen</font>
00044 <font class="comment">*/</font>
00045 
00091 <font class="comment">/*----------------------------------------------------------------------------*\</font>
00092 <font class="comment">** Definitions                                                                **</font>
00093 <font class="comment">**                                                                            **</font>
00094 <font class="comment">\*----------------------------------------------------------------------------*/</font>
00095 
00096 
00097 <font class="comment">/*-------------------------------------------------------------------------</font>
00098 <font class="comment">** A driver with only one channel and small memory resources does not need</font>
00099 <font class="comment">** the 'channel' parameter.</font>
00100 <font class="comment">** The definition CP_SMALL_CODE is checked for the value '1' and the</font>
00101 <font class="comment">** function prototypes are converted then. The function call in the</font>
00102 <font class="comment">** application stays the same (with 'channel' parameter).</font>
00103 <font class="comment">**</font>
00104 <font class="comment">*/</font>
00105 <font class="preprocessor">#if   CP_SMALL_CODE == 1</font>
00106 <font class="preprocessor"></font>
00107 <font class="preprocessor">#define  channel  0</font>
00108 <font class="preprocessor"></font>
00109 <font class="preprocessor">#define  CpUserAppInit(CH, A, B, C)          CpUserAppInit(A, B, C)</font>
00110 <font class="preprocessor"></font><font class="preprocessor">#define  CpUserAppDeInit(CH)                 CpUserAppDeInit()</font>
00111 <font class="preprocessor"></font><font class="preprocessor">#define  CpUserBaudrate(CH, A)               CpUserBaudrate(A)</font>
00112 <font class="preprocessor"></font><font class="preprocessor">#define  CpUserFifoClear(CH, A)              CpUserFifoClear(A)</font>
00113 <font class="preprocessor"></font><font class="preprocessor">#define  CpUserFilterAll(CH, A)              CpUserFilterAll(A)</font>
00114 <font class="preprocessor"></font><font class="preprocessor">#define  CpUserFilterMsg(CH, A, B)           CpUserFilterMsg(A, B)</font>
00115 <font class="preprocessor"></font><font class="preprocessor">#define  CpUserIntFunctions(CH, A, B, C)     CpUserIntFunctions(A, B, C)</font>
00116 <font class="preprocessor"></font><font class="preprocessor">#define  CpUserMsgRead(CH, A)                CpUserMsgRead(A)</font>
00117 <font class="preprocessor"></font><font class="preprocessor">#define  CpUserMsgWrite(CH, A)               CpUserMsgWrite(A)</font>
00118 <font class="preprocessor"></font>
00119 <font class="preprocessor">#endif</font>
00120 <font class="preprocessor"></font>
00121 
00122 
00123 
00124 <font class="comment">/*----------------------------------------------------------------------------*\</font>
00125 <font class="comment">** Function prototypes                                                        **</font>
00126 <font class="comment">**                                                                            **</font>
00127 <font class="comment">\*----------------------------------------------------------------------------*/</font>
00128 
00145 Cp_EXPORT _U08 Cp_PREFIX <a class="code" href="cpuser_h.html#a0">CpUserAppInit</a>(_U08 channel, _U16 rcvFifoSize, _U16 trmFifoSize, _U16 timeout);
00146 
00147 
00157 Cp_EXPORT _U08 Cp_PREFIX <a class="code" href="cpuser_h.html#a1">CpUserAppDeInit</a>(_U08 channel);
00158 
00159 
00187 Cp_EXPORT _U08 Cp_PREFIX <a class="code" href="cpuser_h.html#a2">CpUserBaudrate</a>(_U08 channel, _U08 baud);
00188 
00189 
00202 Cp_EXPORT _U08 Cp_PREFIX <a class="code" href="cpuser_h.html#a3">CpUserFifoClear</a>(_U08 channel, _U08 buffer);
00203 
00204 
00223 Cp_EXPORT _U08 Cp_PREFIX <a class="code" href="cpuser_h.html#a4">CpUserFilterAll</a>(_U08 channel, _BIT enable);
00224 
00225 
00247 Cp_EXPORT _U08 Cp_PREFIX <a class="code" href="cpuser_h.html#a5">CpUserFilterMsg</a>(_U08 channel, _U16 id, _BIT enable);
00248 
00249 
00269 Cp_EXPORT _U08 Cp_PREFIX <a class="code" href="cpuser_h.html#a6">CpUserIntFunctions</a>(  _U08 channel,
00270                                     _U08 (* rx_handler)  (<a class="code" href="struct_CpStruct_CAN.html">CpStruct_CAN</a> *),
00271                                     _U08 (* tx_handler)  (<a class="code" href="struct_CpStruct_CAN.html">CpStruct_CAN</a> *),
00272                                     _U08 (* err_handler) (_U08) );
00273 
00274 
00284 Cp_EXPORT _U08 Cp_PREFIX <a class="code" href="cpuser_h.html#a7">CpUserMsgRead</a>(_U08 channel, <a class="code" href="struct_CpStruct_CAN.html">CpStruct_CAN</a> * msgPtr);
00285 
00286 
00296 Cp_EXPORT _U08 Cp_PREFIX <a class="code" href="cpuser_h.html#a8">CpUserMsgWrite</a>(_U08 channel, <a class="code" href="struct_CpStruct_CAN.html">CpStruct_CAN</a> * msgPtr);
00297 
00298 
00299 <font class="preprocessor">#endif   </font><font class="comment">/* _CANpie_User_ */</font>
</pre></div></td></tr>
</table>

<!------ Document footer ------------------------------------------->
<p><br>
<map name="FooterMap">
<area shape=rect coords="  1, 1, 100, 20" href="#PageTop">
<area shape=rect coords="400, 1, 500, 20" href="mailto:koppe@microcontrol.net?Subject=CANpie">
</map>

<table width="600" border="0" bgcolor="#FFFFFF" cellspacing="0">
<tr><td>
<IMG src="pictures/mapfoot.gif" border="0" usemap="#FooterMap">
</td></tr>

<!------ print modification date ----------------------------------->
<tr><td align="right"><h4>
Last modified: 10 Jul 2001
</h4></td></tr></table>
	
</body>
</html>






<HTML>
<HEAD>
<TITLE>cpcore.h File Reference</TITLE>
<LINK HREF="micro.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<a name="PageTop"></a>

<!------ Document Header ------------------------------------------->
<table border="0" cellspacing="0" cellpadding="0">
<tr><td valign="bottom">
<img src="pictures/maphead.gif" vspace="0" border="0" height="20">
</td></tr></table>

<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="bottom">
<a href="index.html"><img src="pictures/button_index.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="files.html"><img src="pictures/button_files.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="globals.html"><img src="pictures/button_funcs.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom" width="80">
&nbsp;
</td>
<td valign="bottom">
<a href="annotated.html"><img src="pictures/button_structs.gif" vspace="0" border="0" height="25"></a>
</td>
<td valign="bottom">
<a href="functions.html"><img src="pictures/button_members.gif" vspace="0" border="0" height="25"></a>
</td>

</tr></table>

<hr noshade width=680 size=1 align=left>

<!------ Document Start -------------------------------------------->
<table width=680>
<tr><td>




<!-- Generated by Doxygen 1.2.6 -->
<h1>cpcore.h File Reference</h1>CANpie core functions. 
<a href="#_details">More...</a>
<p>
<code>#include "compiler.h"</code><br>
<code>#include "<a class="el" href="cpconst_h-source.html">cpconst.h</a>"</code><br>

<p>
<a href="cpcore_h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a5">CpCoreBaudrate</a> (_U08 ubChannelV, _U08 btr0, _U08 btr1, _U08 sjw)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Allocate buffer in FullCAN controller Set baudrate of CAN controller.</em> <a href="#a5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a6">CpCoreCANMode</a> (_U08 ubChannelV, _U08 mode)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get Pointer to data fields Change DLC of specified buffer Send message out of FullCAN buffer Transmit message from a FullCAN buffer Set state of CAN controller.</em> <a href="#a6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a7">CpCoreCANState</a> (_U08 ubChannelV)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Retrive state of CAN controller.</em> <a href="#a7">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a8">CpCoreDeInitDriver</a> (_U08 ubChannelV)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Free message buffer of FullCAN controller De-Initialize the CAN driver.</em> <a href="#a8">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a9">CpCoreFilterAll</a> (_U08 ubChannelV, _BIT enable)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set global hardware filter for CAN messages.</em> <a href="#a9">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a10">CpCoreFilterMsg</a> (_U08 ubChannelV, _U16 id, _BIT enable)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Hardware filter for CAN messages.</em> <a href="#a10">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a11">CpCoreHDI</a> (_U08 ubChannelV, <a class="el" href="struct_CpStruct_HDI.html">CpStruct_HDI</a> *hdi)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get hardware description information.</em> <a href="#a11">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a12">CpCoreInitDriver</a> (_U08 ubChannelV)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize the CAN driver.</em> <a href="#a12">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a13">CpCoreIntHandler</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>CAN Interrupt Request (IRQ) Handler.</em> <a href="#a13">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a14">CpCoreMsgReceive</a> (_U08 ubChannelV)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Read a CAN message from controller.</em> <a href="#a14">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a15">CpCoreMsgTransmit</a> (_U08 ubChannelV)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Transmit a CAN message.</em> <a href="#a15">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a16">CpCoreRegRead</a> (_U08 ubChannelV, _U16 regAdr, _U08 *valuePtr)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Read from CAN controller register.</em> <a href="#a16">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>Cp_EXPORT _U08 Cp_PREFIX&nbsp;</td><td valign=bottom><a class="el" href="cpcore_h.html#a17">CpCoreRegWrite</a> (_U08 ubChannelV, _U16 regAdr, _U08 value)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Write to CAN controller register.</em> <a href="#a17">More...</a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
CANpie core functions.
<p>
 
<p>
 The user functions always call the core functions, they never access the hardware directly. That means the user functions do not have to be modified when implementing the CANpie on an existing hardware. A typical user function is the writing of a CAN message to the FIFO buffer (e.g. <a class="el" href="cpuser_h.html#a8">CpUserMsgWrite</a>() ).
<p>
<hr><h2>Function Documentation</h2>
<a name="a5" doxytag="cpcore.h::CpCoreBaudrate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreBaudrate (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_U08 <em>btr0</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_U08 <em>btr1</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_U08 <em>sjw</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Allocate buffer in FullCAN controller Set baudrate of CAN controller.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware </td></tr>
<tr><td valign=top><em>btr0</em>
&nbsp;</td><td>
Value for Bit Timing Register 0 </td></tr>
<tr><td valign=top><em>btr1</em>
&nbsp;</td><td>
Value for Bit Timing Register 1 </td></tr>
<tr><td valign=top><em>sjw</em>
&nbsp;</td><td>
Value for Synchronisation Jump Width
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. If no error occured, the function will return CpErr_OK.
<p>
</dl>This function directly writes to the bit timing registers of the CAN controller. It is called by <a class="el" href="cpuser_h.html#a2">CpUserBaudrate</a>() with pre-defined values for common baudrates.     </td>
  </tr>
</table>
<a name="a6" doxytag="cpcore.h::CpCoreCANMode"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreCANMode (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_U08 <em>mode</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get Pointer to data fields Change DLC of specified buffer Send message out of FullCAN buffer Transmit message from a FullCAN buffer Set state of CAN controller.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware </td></tr>
<tr><td valign=top><em>mode</em>
&nbsp;</td><td>
Mode of the controller </td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. If no error occured, the function will return CpErr_OK.
<p>
</dl>This function changes the operating mode of the CAN controller. Possible values for mode are: <ul>
<li> CP_MODE_STOP - stop the CAN controller <li> CP_MODE_START - start the CAN controller </ul>
    </td>
  </tr>
</table>
<a name="a7" doxytag="cpcore.h::CpCoreCANState"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreCANState (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrive state of CAN controller.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware </td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration
<p>
</dl>This function returns the present state of the CAN controller. Possible return codes are: <ul>
<li> CpErr_OK: CAN controller is active, no error conditions occurred <li> CpErr_BUS_PASSIVE: CAN controller is in bus passive state <li> CpErr_BUS_OFF <li> CpErr_BUS_WARNING </ul>
    </td>
  </tr>
</table>
<a name="a8" doxytag="cpcore.h::CpCoreDeInitDriver"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreDeInitDriver (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Free message buffer of FullCAN controller De-Initialize the CAN driver.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. If no error occured, the function will return CpErr_OK.
<p>
</dl>The implementation of this function is dependant on the operating system. Typical tasks might be: <ul>
 <li>clear the interrupt vector / routine <li>close all open paths to the hardware </ul>
     </td>
  </tr>
</table>
<a name="a9" doxytag="cpcore.h::CpCoreFilterAll"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreFilterAll (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_BIT <em>enable</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set global hardware filter for CAN messages.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware </td></tr>
<tr><td valign=top><em>enable</em>
&nbsp;</td><td>
TRUE for accepting all identifiers, FALSE for rejecting all identifiers
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. Possible return values are: <ul>
 <li>CpErr_NOT_SUPPORTED - Function is not supported by the driver <li>CpErr_OK - Function returned without error condition </ul>

<p>
</dl>This function sets up a hardware CAN identifier filter. The filter might be a firmware on an intelligent PC card.     </td>
  </tr>
</table>
<a name="a10" doxytag="cpcore.h::CpCoreFilterMsg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreFilterMsg (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_U16 <em>id</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_BIT <em>enable</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Hardware filter for CAN messages.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware </td></tr>
<tr><td valign=top><em>id</em>
&nbsp;</td><td>
value of the identifier </td></tr>
<tr><td valign=top><em>enable</em>
&nbsp;</td><td>
TRUE for accepting an identifier, FALSE for rejecting an identifier
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. Possible return values are: <ul>
 <li>CpErr_NOT_SUPPORTED - Function is not supported by the driver <li>CpErr_OK - Function returned without error condition </ul>

<p>
</dl>This function sets a filter for CAN messages. If the flag <b>enable</b> is set to TRUE, the CAN identifier <b>id</b> is accepted. If the flag <b>enable</b> is set to FALSE, the reception of messages with the identifier <b>id</b> is not possible. Please notice that this function only works for standard messages (2.0A, 11 bit identifier).     </td>
  </tr>
</table>
<a name="a11" doxytag="cpcore.h::CpCoreHDI"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreHDI (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
<a class="el" href="struct_CpStruct_HDI.html">CpStruct_HDI</a> * <em>hdi</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get hardware description information.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware </td></tr>
<tr><td valign=top><em>hdi</em>
&nbsp;</td><td>
Pointer to the Hardware Description Interface structure (<a class="el" href="struct_CpStruct_HDI.html">CpStruct_HDI</a>)
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. If no error occured, the function will return CpErr_OK.
<p>
</dl>This function retrieves information about the used hardware.     </td>
  </tr>
</table>
<a name="a12" doxytag="cpcore.h::CpCoreInitDriver"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreInitDriver (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize the CAN driver.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. Possible return values are: <ul>
 <li>CpErr_HARDWARE - Hardware failure occured, initialisation is not possible <li>CpErr_INIT_FAIL - Software failure occured, initialisation is not possible <li>CpErr_OK - Function returned without error condition </ul>

<p>
</dl>The implementation of this function is dependant on the operating system. Typical tasks might be: <ul>
 <li>open a path/file to the hardware <li>install an interrupt vector </ul>
     </td>
  </tr>
</table>
<a name="a13" doxytag="cpcore.h::CpCoreIntHandler"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void CpCoreIntHandler (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
CAN Interrupt Request (IRQ) Handler.
<p>

<p>
 The CAN IRQ Handler is responsible for calling core functions and sending signals (events) to the application whenever an interrupt signal of the CAN controller occurs. This function is not intended to be used by the application program. <b> Do not call this function by the application program. The implementation of this function is system dependend. </b>     </td>
  </tr>
</table>
<a name="a14" doxytag="cpcore.h::CpCoreMsgReceive"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreMsgReceive (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a CAN message from controller.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. If no error occured, the function will return CpErr_OK.
<p>
</dl>This function reads the receive buffer of a CAN controller and builds a CAN message from that information. The function is also responsible to generate the time stamp for the CAN message. The complete CAN message is then transferred to the Receive FIFO. <b> Do not call this function by the application program. The implementation of this function is system dependent. </b>     </td>
  </tr>
</table>
<a name="a15" doxytag="cpcore.h::CpCoreMsgTransmit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreMsgTransmit (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Transmit a CAN message.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. If no error occured, the function will return CpErr_OK.
<p>
</dl>This function gets the next CAN message out of the Transmit FIFO and writes it to the appropriate registers of the CAN controller. <b> Do not call this function by the application program. The implementation of this function is system dependent. </b>     </td>
  </tr>
</table>
<a name="a16" doxytag="cpcore.h::CpCoreRegRead"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreRegRead (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_U16 <em>regAdr</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_U08 * <em>valuePtr</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read from CAN controller register.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware </td></tr>
<tr><td valign=top><em>regAdr</em>
&nbsp;</td><td>
Register address relative to the base address of the CAN controller. </td></tr>
<tr><td valign=top><em>valuePtr</em>
&nbsp;</td><td>
Pointer to a variable of type BYTE, which will hold the result of the read process
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. Possible return values are: <ul>
 <li>CpErr_CHANNEL - Channel number is out of range <li>CpErr_REGISTER - Register address is out of range <li>CpErr_SUPPORTED - Function is not supported <li>CpErr_OK - Function returned without error condition </ul>

<p>
</dl>This function will read a value from a CAN controller register. The first register starts at address 0.     </td>
  </tr>
</table>
<a name="a17" doxytag="cpcore.h::CpCoreRegWrite"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Cp_EXPORT _U08 Cp_PREFIX CpCoreRegWrite (
          </b></td>
          <td valign="bottom"><b>
_U08 <em>ubChannelV</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_U16 <em>regAdr</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
_U08 <em>value</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write to CAN controller register.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>ubChannelV</em>
&nbsp;</td><td>
CAN channel of the hardware </td></tr>
<tr><td valign=top><em>regAdr</em>
&nbsp;</td><td>
Register address relative to the base address of the CAN controller. </td></tr>
<tr><td valign=top><em>value</em>
&nbsp;</td><td>
Value to write
<p>
</td></tr>
</table>
</dl><dl compact><dt>
<b>Returns: </b><dd>
Error code taken from the CpErr enumeration. Possible return values are: <ul>
 <li>CpErr_CHANNEL - Channel number is out of range <li>CpErr_REGISTER - Register address is out of range <li>CpErr_SUPPORTED - Function is not supported <li>CpErr_OK - Function returned without error condition </ul>

<p>
</dl>This function will write a value to a CAN controller register. The first register starts at address 0.     </td>
  </tr>
</table>
</td></tr>
</table>

<!------ Document footer ------------------------------------------->
<p><br>
<map name="FooterMap">
<area shape=rect coords="  1, 1, 100, 20" href="#PageTop">
<area shape=rect coords="400, 1, 500, 20" href="mailto:koppe@microcontrol.net?Subject=CANpie">
</map>

<table width="600" border="0" bgcolor="#FFFFFF" cellspacing="0">
<tr><td>
<IMG src="pictures/mapfoot.gif" border="0" usemap="#FooterMap">
</td></tr>

<!------ print modification date ----------------------------------->
<tr><td align="right"><h4>
Last modified: 10 Jul 2001
</h4></td></tr></table>
	
</body>
</html>






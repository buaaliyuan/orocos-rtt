<html>
	<head>
		<title>
			Commands accepted by Schunk on serial port  FT450/45
		</title>
	</head>
	<body>
		This file is a rough and incomplete translation of the german manual for the controller of a 6 axles force-/torque-sensor. It contains an overview of the commands that are available for the controller. If you cannot find the information you need in this file, I recommend you read the manual.<p>
		The outline is as follows:<p>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					<i>command</i>
				</td><td>
					<i>Explanation</i>
				</td>
			</tr>
		</table><p>
		These commands are sent to the <u>controller</u>, not the <u>sensor</u> so they are transmitted over the serial/analogue/... line depending on how the controller is connected to the computer. Some commands can be used regardless of how the connection to the controller is made, others cannot.<p>
		The categories in which the commands are collected are:
		<b>
			<ol>
				<li>Data communication mode
				<li>Type output data
				<li>Data communication channel
				<li>Other data communication commands
				<li>Request for data output
				<li>Sensor taring/zero adjustment
				<li>Exceeding measuring range
				<li>Average of the measured values
				<li>Examination of the digital in- and outputs
				<li>Force-/Torque-monitoring (monitor operations)
				<li>Automatic startsequence
				<li>Other commands
			</ol>
		</b>

		<hr>
		<h1>
			1. Data communication mode
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					CD A
				</td><td>
					Data communication in the form of ASCII characters (<b>default</b>).
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					CD B
				</td><td>
					Data communication in the form of binary-coded data.
				</td>
			</tr>
		</table>
		<h1>
			2. Type output data
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					CD D
				</td><td align="left", valign="top">
					Measured values of the strain gauges as decimal number. Measured values lie in the scope from -2048 to 2047 digits. In ASCII-mode the length of a data record is 45 byte. The first byte is the overload byte followed by the 6 measured values (each 6 bytes long, ASCII-characters). The distinct values are seperated by commas.  As termination the control characters &lt;CR&gt; &lt;LF&gt; are transmitted.  Transmitting the control character &lt;LF&gt; can be avoided by using the CL 0 instruction.<p>
					<div align="center">
						<u>form:</u> &lt;overload&gt;,SG0,SG1,SG2,SG3,SG4,SG5&lt;CR&gt;&lt;LF&gt;
					</div><br>
					In Binary-mode the length of a data record is 13 byte. The first byte is the overload byte followed by the 6 measured values. All bytes follow eachother consecutively (no commas or control characters).  Each measured value is 2 byte long. The byte with high order is transmitted first. <br>
					<div align="center">
						<u>form:</u> &lt;overload&gt;&lt;SG0 high&gt;&lt;SG0 low&gt;&lt;SG1 high&gt;&lt;SG1 low&gt; <br>
						&lt;SG2 high&gt;&lt;SG2 low&gt;&lt;SG3 high&gt;&lt;SG3 low&gt;<br>
						&lt;SG4 high&gt;&lt;SG4 low&gt;&lt;SG5 high&gt;&lt;SG5 low&gt;
					</div><p>
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					CD H
				</td><td>
					Measured values of the strain gauges as hexadecimal number.  The data format is identical to that of the decimal values.
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					CD R
				</td><td>
					Calculated force-/torquevalues as decimal number (<b>default</b>).<br>
					In ASCII-mode the length of a data record amounts up to 45 byte (depending on how many components are being outputted; see CV instruction)<p>
					<div align="center">
						<u>form:</u> &lt;overload&gt;,F_x,F_y,F_z,T_x,T_Y,T_z,&lt;CR&gt;&lt;LF&gt;
					</div><br>		
					In Binary-mode the maximum lenght of a data record is 13 byte.<p>
					<div align="center">
						<u>form:</u> &lt;overload&gt;&lt;F_x high&gt;&lt;F_x low&gt;&lt;F_y high&gt;&lt;F_y low&gt;<br>
						&lt;F_z high&gt;&lt;F_z low&gt;&lt;T_x high&gt;&lt;T_x low&gt;<br>
						&lt;T_y high&gt;&lt;T_y low&gt;&lt;T_z high&gt;&lt;T_z low&gt;
					</div><p> 
					<u>Remark:</u> The values correspond to a force- or a torque-unit. The size of this unit depends on the used sensor.
				</td>
			</tr>
		</table>

		<h1>
			3. Data communication channel
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					CP a
				</td><td>
					Output channel: serial interface (a=S, <b>default</b>), parallel interface (a=P). If CP is used without any option, a message is displayed telling which interface was selected.
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					CA b
				</td><td>
					Analogue output channel switched on (b=1), switched off (b=0, <b>default</b>). If CP is used without any option, a message is displayed telling whether or not the analogue output has been switched on.
				</td>
			</tr>
		</table>

		<h1>
			4. Other data communication commands
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					CF b
				</td><td>
					Fast data output switched off (b=0, <b>default</b>) or on (b=1). When switched on the data rate is increased.
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					CV h
				</td><td>
					Select which force- and torque-components are transmitted. The value of h is a hexadecimal number. Every force- and torque-component is represented by a certain bit.<p>
					<div align="center">
						<table>
							<tr>
								<td align="center" width=60>
									<i>bit nr.</i>
								</td><td align="center">
									<i>component</i>
								</td>
							</tr><tr>
								<td align="center" width=60>
									0
								</td><td align="center">
									F_x
								</td>
							</tr><tr>
								<td align="center" width=60>
									1
								</td><td align="center">
									F_y
								</td>
							</tr><tr>
								<td align="center" width=60>
									2
								</td><td align="center">
									F_z
								</td>
							</tr><tr>
								<td align="center" width=60>
									3
								</td><td align="center">
									T_x
								</td>
							</tr><tr>
								<td align="center" width=60>
									4
								</td><td align="center">
									T_y
								</td>
							</tr><tr>
								<td align="center" width=60>
									5
								</td><td align="center">
									T_z
								</td>
							</tr><tr>
								<td align="center" width=60>
									6
								</td><td align="center">
									x
								</td>
							</tr><tr>
								<td align="center" width=60>
									7
								</td><td align="center">
									x
								</td>
							</tr>
						</table>
					</div><br>
					Example: If we're just interested in F_z and T_y, we have to set bit 2 and 4 so the binary value of h becomes 00010100. This is the hexadecimal number 14 so the command for this example is CV 14&lt;CR&gt;<p>
					If CV is used without a value for h, the current value of h is displayed. 
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					CL b
				</td><td>
					Line feed switched on (b=1, <b>default</b>), switched off (b=0)<p>
					When switched on, the control character &lt;LF&gt; is responsible for	displaying a line feed between the measured data records. The command follows each &lt;CR&gt; command. When switched off, the data records are displayed on the same line.<p>
					Some serial devices automatically produce an additional line feed when recieving the &lt;CR&gt; command.<p>
					If CL is used without a value for b, a message is displayed telling wether or not line feed has been enabled.
				</td>
			</tr>
		</table>
		
		<h1>
			5. Request for data output
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					QC
				</td><td>
					Output of the calibration matrix.
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					QR
				</td><td>
					Output of one measurement of force-/torque-components in preselectend output mode and type.
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					^T (CONTROL T)
				</td><td>
					Like the QR-command but without handschake (no control characters, slightly faster data output).
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					QS
				</td><td>
					Constant data output in preselected output mode and type. The output can be stopped by pressing any button.
				</td>
			</tr>
		</table>

		<h1>
			6. Sensor taring/zero adjustment
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					SB
				</td><td>
					Set the current values as zero-adjustment for future readings. The FTS-controller can store up to 3 zero-adjustments which are	stored in a LIFO-order on a push-pop stack.
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					SU
				</td><td>
					Clear the current zero-adjustment from the stack and use the previously saved adjustment. If the stack is completely empty, no zero-adjustment is used.
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					SZ
				</td><td>
					The stack is completely cleared and no zero-adjustment is used.
				</td>
			</tr>
		</table>

		<h1>
			7. Exceeding measuring range
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					SM b
				</td><td>
					Check if the measured values are within the measuring range (b=1, <b>default</b>) or don't check (b=0). If the check isn't enabled, the overload bit is set.<p>
					As soon as some value exceeds its maximum value, a message is displayed telling which value is 'overloading'. If SM is used without a value for b, a message is displayed telling wether or not the overload check is enabled.
				</td>
			</tr>
		</table>

		<h1>
			8. Average of the measured values
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					SA d
				</td><td>
					Calculate the average of a number (d) of measured values. The possible values for d are 0, 2, 4, 8 and 16. 0 disbles the function (<b>default</b>). Any other value results in an error message.<p>
					If SA is used without a value for d, a message is displayed telling wether or not the average-function is enabled and if so, what the current value of d is.
				</td>
			</tr>
		</table>

		<h1>
			9. Examination of the digital in- and outputs
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					ID
				</td><td>
					Read from the digital input. The inputs is made up out of seven characters that represent the status of the respective input line.<p>
					<div align="center">
						<table>
							<tr>
								<td align="left", valign="top", width=70>
									<u>form:</u></td><td>I_3I_2I_1I_0&lt;SP&gt;MB
								</td>
							</tr><tr>
								<td align="left", valign="top", width=70>
									<u>symbols:</u></td><td>I_3, I_2, I_1 and I_0 are input lines (1=on, 0=off)<br>
									M is the monitor input<br>
									B is the taring input
								</td>
							</tr><tr>
								<td align="left", valign="top", width=70>
									<u>example:</u>
								</td><td>
									0010 10
								</td>
							</tr>
						</table>
					</div>
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					OD h
				</td><td>
					Set the digital output.<p>
					The instruction sets all digital outputs and the "Health" display on the front of the plotting device according to the bit pattern of the hexadecimal value h.<p>
					<div align="center">
						<table>
							<tr>
								<td align = "center" width=50>
									<i>bit nr.</i>
								</td><td align = "center" width=200>
									<i>function</i>
								</td>
							</tr><tr>
								<td align = "center" width=50>
									0
								</td><td align = "center" width=200>
									digital output 0
								</td>
							</tr><tr>
								<td align = "center" width=50>
									1
								</td><td align = "center" width=200>
									digital output 1
								</td>
							</tr><tr>
								<td align = "center" width=50>
									2
								</td><td align = "center" width=200>
									digital output 2
								</td>
							</tr><tr>
								<td align = "center" width=50>
									3
								</td><td align = "center" width=200>
									digital output 3
								</td>
							</tr><tr>
								<td align = "center" width=50>
									4
								</td><td align = "center" width=200>
									status output
								</td>
							</tr><tr>
								<td align = "center" width=50>
									5
								</td><td align = "center" width=200>
									"Health" LED on front side
								</td>
							</tr><tr>
								<td align = "center" width=50>
									6
								</td><td align = "center" width=200>
									"Health" output
								</td>
							</tr>
						</table>
					</div>
				</td>
			</tr>
		</table>

		<h1>
			10. Force-/Torque-monitoring (monitor operations)
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					MC s
				</td><td>
					Create a monitor condition s. A condition is made up out of 3 components:<p>
					<div align="center">
						input code/limit value condition/output code
					</div><br>
					The input code is 4 bit long and is used for the selection of the monitor conditions. (is compared with the value of the input lines 0 to 3)<p>
					The limit value condition is consists of a force-/torque-component (FX, FY, FZ, MX, MY, MZ), a comparison operator (">" or "<") and a limit value in the integral force or torque unit.<p>
					The output code is used for identifiying, which limit value was crossed. The appropriate output code then directly sets the digital outputs 0 to 3.<p>
					<u>Example:</u> MC 1001/FZ>123/0101<p>
					Each monitor condition is given an internal number (1-32).
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					MD d
				</td><td>
					Delete monitor condition. The monitor condition with number d is deleted. MD * deletes all conditions.
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					ML
				</td><td>
					Display monitor conditions
				</td>
			</tr>
		</table>

		<h1>
			11. Automatic startsequence
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					ZC 0,"s"
				</td><td>
					Stores a sequence of instructions s, which is executed automatically when switching on the sensor system.<p>
					<u>Example:</u> ZC 0,"CD A;SA 4;SB"&lt;CR&gt;
				</td>
			</tr>
		<table>

		<h1>
			12. Other commands
		</h1>
		<table>
			<tr>
				<td align="left", valign="top", width=150>
					FC d				
				</td><td>
					Adjust filter clock. This instruction is used for analoge data output, as the critical frequency of the analoge filter module is changed. The parameter d can take any value between 0 and 255 (<b>default</b> value 81).<p>
					When resetting/restarting the system, the value of d is reset to the default value.
				</td>
			</tr><tr>
				<td align="left", valign="top", width=150>
					^W (CONTROL W)
				</td><td>
					Executes a restart of the system.
				</td>
			</tr>
		</table>
		<p><br>
		If the ASCII mode is enabled, then software flow control used. The receiving device can, by transmitting the appropriate control character, request the transmitter to stop (XOFF) of resume (XON) the transfer.<p>
		<div align="left">
			<table>
				<tr>
					<td align="left" width=150>
						^Q (CONTROL Q)
					</td><td>
						Continue data output (XON)
					</td>
				</tr><tr>
					<td align="left" width=150>
						^S (CONTROL S)
					</td><td>
						Stop data output (XOFF)
					</td>
				</tr>
			</table>
		</div><p>
		These characters are usually  used if the receiving device cannot guarantee that any further transferred data will be processed.<p>
		All XOFF control characters arriving during the switching on phase or a restart are ignored by the FTS plotting device. Further the FTS unit transmits a XON character to the attached device to cancel out a possibly transmitted XOFF character so that the attached device is able to recieve data from the FTS unit.
	</body>
</html>